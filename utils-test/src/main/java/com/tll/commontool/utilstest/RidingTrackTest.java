package com.tll.commontool.utilstest;


import com.tll.commontool.utilscommon.utils.DateUtils;

import java.text.ParsePosition;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.List;

/**
 * Created by tll on 2017/10/29 21:18
 **/
public class RidingTrackTest {
    public static void main(String[] args) {
            Date start = DateUtils.strToDateLong("2017-10-29 20:52:19");
            Date end = DateUtils.strToDateLong("2017-10-29 20:58:19");
            long orderStartTime = start.getTime();
            long orderEndTime = end.getTime();
            String  oriTrackTime = "#108.947489,34.305919;1509281544399#108.947469,34.305996;1509281549369#108.947493,34.305905;1509281554375#108.947426,34.305819;1509281559384#108.947421,34.305717;1509281564391#108.947374,34.305626;1509281569393#108.947405,34.305666;1509281570020#108.947376,34.305569;1509281574400#108.94742,34.305478;1509281575908#108.947376,34.305398;1509281579401#108.94735,34.305243;1509281584402#108.947486,34.305128;1509281589409#108.947557,34.305049;1509281599766#108.948025,34.305069;1509281604773#108.948103,34.305052;1509281611516#108.948164,34.304992;1509281616525#108.948262,34.304964;1509281616808#108.948475,34.304972;1509281621233#108.948478,34.304963;1509281624968#108.948581,34.304924;1509281630991#108.948871,34.30489;1509281636001#108.948939,34.304855;1509281636820#108.949161,34.30488;1509281641363#108.949179,34.304864;1509281641815#108.949348,34.304818;1509281649441#108.949643,34.304842;1509281660755#108.950087,34.304798;1509281666223#108.950479,34.304939;1509281671228#108.950517,34.304927;1509281671805#108.950632,34.304947;1509281679952#108.950821,34.304979;1509281681624#108.950846,34.304991;1509281685405#108.95132,34.305019;1509281692315#108.951406,34.30504;1509281699380#108.951611,34.305059;1509281705450#108.952134,34.305073;1509281712288#108.952243,34.305059;1509281719232#108.952507,34.30506;1509281724320#108.952574,34.305056;1509281730622#108.952882,34.305143;1509281739310#108.953142,34.305089;1509281740803#108.953562,34.304696;1509281745462#108.953539,34.304809;1509281745801#108.953591,34.304936;1509281754401#108.953921,34.305061;1509281760647#108.95398,34.305062;1509281760799#108.954127,34.305064;1509281769364#108.954495,34.30514;1509281769974#108.954501,34.305127;1509281770799#108.954615,34.305114;1509281780254#108.955071,34.305102;1509281789387#108.955136,34.305079;1509281790815#108.955304,34.305091;1509281800230#108.955438,34.305215;1509281801758#108.955609,34.305218;1509281809296#108.955993,34.305174;1509281816240#108.9562,34.305201;1509281824328#108.956531,34.30519;1509281829333#108.956643,34.305213;1509281836776#108.957065,34.305205;1509281841784#108.957307,34.305218;1509281849274#108.957628,34.30524;1509281857476#108.957866,34.30525;1509281858947#108.957882,34.305256;1509281865031#108.958312,34.305279;1509281874303#108.958381,34.305289;1509281875794#108.958493,34.305327;1509281882201#108.958573,34.305416;1509281884464#108.958634,34.305431;1509281897184#108.958532,34.305433;1509281902191#108.958568,34.305476;1509281907192";
            List<RidingTrackPoint> effectivePointList = RidingTrackUtils.extractEffectivePointList(oriTrackTime, orderStartTime, orderEndTime);
            StringBuilder effectiveTrack = new StringBuilder();
            for (RidingTrackPoint single : effectivePointList) {
                effectiveTrack.append("#").append(single.getLng()).append(",").append(single.getLat());
            }
            String endTrack = effectiveTrack.toString();
            System.out.println(endTrack);
    }
}
